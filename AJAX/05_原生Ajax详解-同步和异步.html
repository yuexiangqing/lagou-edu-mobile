<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // 1.创建一个XMLHttpRequest类型的对象
        var xhr = null;
        //  兼容写法
        if(window.XMLHttpRequest){
            // 标准浏览器
            xhr = new XMLHttpRequest();
        } else{
            // IE6浏览器
            xhr = new ActiveXObject("Microsoft.XMLHTTP");
        }
        //2.打开一个与网址之间的连接
        // 设置同步和异步
        // xhr.open("GET","https://jsonplaceholder.typicode.com/users",true); //异步加载
        xhr.open("GET","https://jsonplaceholder.typicode.com/users",false);  //同步加载
        // 如果设置了同步加载，程序会卡在send部分
        
        // 更改了顺序，提前注册成功了
        xhr.onreadystatechange = function(){
            // 通过判断xhr的readyState,确定此次请求是否完成
            if(this.readyState === 4){  
                console.log("请求成功")
            }
        }
        //3.通过连接发送一次请求
        xhr.send(null);
        // 4.指定回调函数，处理得到的数据 
        // xhr.onreadystatechange = function(){
        //     // 通过判断xhr的readyState,确定此次请求是否完成
        //     if(this.readyState === 4){  
        //         console.log("请求成功")
        //     }
        // }
        // Ajax 后面的代码
        console.log("After Ajax");
    </script>
</head>
<body>
    
</body>
</html>