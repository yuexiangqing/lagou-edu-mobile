<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // 1.创建一个XMLHttpRequest类型的对象
        var xhr = null;
        //  兼容写法
        if(window.XMLHttpRequest){
            // 标准浏览器
            xhr = new XMLHttpRequest();
        } else{
            // IE6浏览器
            xhr = new ActiveXObject("Microsoft.XMLHTTP");
        }
        console.log("UNSENT",xhr.readyState);
        //2.open()方法
        xhr.open("GET","https://jsonplaceholder.typicode.com/users");
        console.log("OPENED",xhr.readyState);
        //3.send()方法发送一次请求
        xhr.send("name=harry&age=19");
        // 4.指定回调函数，处理得到的数据 
        xhr.onreadystatechange = function(){
            // 通过判断xhr的readyState,确定此次请求是否完成
            if(this.readyState === 2){
                console.log("headers received",xhr.readyState);
            }else if(this.readyState === 3){
                console.log("loading",xhr.readyState); 
                console.log(xhr.responseText); //进行比较
            }else if(this.readyState === 4){  //只需要等于4
                console.log("done",xhr.readyState); 
                console.log(xhr.responseText);
            }
        }
    </script>
</head>
<body>
    
</body>
</html>